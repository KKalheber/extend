## Monitoring and Diagnostics

There are several tools and practices to achieve the level of monitoring for Auth0 Extend which provides you with insight into how your users are using extensions and enable you to offer them support, as well as allow them to diagnose issues themselves. 

Your Auth0 Extend installation can be configured to export logging information to your own [AWS Firehose](https://aws.amazon.com/kinesis/firehose/) service. This provides you with the capability to store and analyze logs generated by your users' extensions in Amazon S3, Amazon ElasticSearch, Amazon Kinesis Analytics, or Amazon Redshift. The logging information contains all output generated by your user's extension code to standard output, as well as selected infrastructure events generated by Auth0 Extend itself. Contact [support](#support) if you are interested in configuring this capability. 

For development and ongoing support of your customers, you can leverage access to [real-time logs](https://webtask.io/docs/api_logs). These logs can be made available to your customers via the Extend editor to support their debugging and development by enabling the [logging panel](https://webtask.io/docs/editor/logs) via the `allowAccessingLogs` setting.

![logging](https://cloud.githubusercontent.com/assets/141124/24432235/9a2e5b5a-13d5-11e7-8c8e-017732f00451.png)

One way to conveniently stream real time logging information is to use the [wt-cli](https://webtask.io/docs/wt-cli) command line tool. Before you can use it, you need to configure a profile based on your master webtask token - this will allow you to connect to the webtask container of any of your customers: 

```bash
wt init -p master \
  --url {host_url} \
  --token {master_webtask_token} \
  --container master
```

You can then use the `wt logs` command to attach to any webtask container and stream logging information generated by any of the extensions running in it: 

```
wt logs -p master --container {tenant_webtask_container}
```

The wt-cli tool can also be used to inspect the source code of the extensions your customers have created. Depening on the level of support you choose to provide your customers, this may be a capability that can save your support team a lot time and effort. To list extensions defined in a specific webtask container, run: 

```
wt ls -p master --container {tenant_webtask_container}
```

(note that the result is paged).

Next, to obtain the code of a specific extension from the list, run: 

```
wt inspect -p master --container {tenant_webtask_container} {webtask_name} --fetch-code
```

**NOTE** never share the master webtask token with your customers. 

There are a few good practices practices to follow to improve your diagnostics capabilities when integrating Auth0 Extend into your platform; these include: 

* **Log extension invocations**. Every time you [invoke Auth0 Extend extension](#invoking-extensions), it is worthwhile to capture the following information in the logs of your platform: 

    * The overal execution time of the extension. 
    * The response status code. 
    * The following response headers: `x-wt-response-source`, `x-auth0-proxy-stats`, `s-auth0-stats`
    * Consider if and which parts of the response to capture in logs, since there may be sensitive information embedded in the response. 

* **Log extension discovery calls**. Every time you call the [extension discovery](#discovering-extensions), it is worthwhile to capture the entire response in your logs (after removing any sensitive information, e.g. webtask tokens). 